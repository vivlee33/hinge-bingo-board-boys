<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@400;600&family=Baloo+2:wght@400;700&display=swap" rel="stylesheet">

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hinge Bingo - Boys Edition ðŸŽ‰</title>
<style>
    /* ========== Base ========== */
  body {
    font-family: "Hanken Grotesk", sans-serif; /* Body font */
    margin: 0;
    background: #F8E9DD;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  h1, h2, h3 {
    font-family: "Baloo 2", sans-serif; /* Titles */
    text-align: center;             /* Keep centered */
    color: #097B85;                 /* Title Color */
  }

  button {
    font-family: "Baloo 2", sans-serif; /* Buttons too */
  }
  
    /* ========== NEW container for layout ========== */
  .container {
  display: flex;
  justify-content: center;   /* centers horizontally */
  align-items: flex-start;   /* top-aligned */
  gap: 24px;                 /* space between bingo + word list */
  flex-wrap: wrap;           /* allow wrapping on mobile */
  margin: 20px auto;
  max-width: 95%;
  }

  /* ========== Bingo grid ========== */
  #controls label,
  #newWordInput,
  #addWordBtn,
  .cell,
  #wordCount,
  #wordListContainer {
    font-family: "Hanken Grotesk", sans-serif; /* Body text */
    border: 2px solid #4B4B7C;
    border-radius: 6px;
    background: #f9f9f9;
    padding: 12px; /* optional, adds space inside the box */
    max-width: 400px;
    
    /* Center container and content */
    margin-left: auto;
    margin-right: auto;
  }
  
  #wordListContainer ul {
    list-style-type: none;
    padding-left: 0;
    margin: 0;
  }

  .category-section {
    margin-bottom: 16px; /* space between categories */
  }

  .category-title {
    font-weight: bold;
    margin-bottom: 6px;
  }

  #bingo {
    display: grid;
    grid-template-columns: repeat(5, 1fr); /* exactly 5 equal columns */
    gap: 2px;
    margin: 10px auto;
    justify-content: center;
    width: 100%;
    max-width: 500px;
  }

  .cell {
    background: white;
    width: 100%;           /* take full column width */
    border: 2px solid #4B4B7C;
    border-radius: 6px;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 6px;
    user-select: none;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    position: relative;
    max-width: 140px;       /* max cell width */
    box-sizing: border-box;
    height: auto;           /* allows height to grow with text */
    word-wrap: break-word;  /* wrap long words */
  }
  
      /* ========== Category colors ========== */
  .cell.bio { color: #4B4B7C; }      /* DARK PURPLE */
  .cell.picture { color: #D69F40; }  /* DEEP YELLOW */
  .cell.prompt { color: #A0526D; }   /* DUSTY ROSE */
  .cell.reference { color: #5A9367; }/* SAGE GREEN */
  .cell.quote { color: #C0623C; }    /* TERRA COTTA */
  .cell.food { color: #6B4C9A; }     /* SOFT PURPLE */
  .cell.sports { color: #2E8BC0; }   /* SOFT BLUE */
  .cell.cliches { color: #097B85; }  /* TEAL */
  .cell.other { color: #292929; }    /* GREY */

  .cell.free {
    background: #a3d2ca;
    font-weight: bold;
    cursor: default;
  }

  .cell.marked {
    background: #ffb703;
    /* REMOVE color override so category colors stay */
  }


  /* ========== Controls ========== */
  #controls {
    display: flex;
    align-items: center;
    gap: 12px;          /* horizontal spacing between buttons and checkbox */
    flex-wrap: wrap;     /* wrap items on small screens */
    margin: 16px 0;
    justify-content: center;
  }

  #controls label {
    display: flex;       /* align checkbox and text horizontally */
    align-items: center;
    font-size: 14px;
    margin: 0;
  }

  #controls input[type="checkbox"] {
    margin-right: 6px;   /* spacing between checkbox and text */
  }

  button {
    font-size: 16px;
    padding: 10px 18px;
    border: 2px solid #4B4B7C;
    border-radius: 6px;
    cursor: pointer;
    background: #EDB758;
    color: #333333;
    transition: background-color 0.3s ease;
  }

  button:hover {
    background: #E99968;
  }

  select {
    font-size: 14px;
    max-width: 90%;
  }

    /* ========== Word List ========== */
  #wordListContainer {
  font-family: "Hanken Grotesk", sans-serif;
  border: 2px solid #4B4B7C;
  border-radius: 6px;
  background: #f9f9f9;
  padding: 12px;
  max-width: 400px;
  flex: 1;          /* lets it grow/shrink */
  min-width: 250px; /* prevents squish */
  }
  
  #wordCount {
    max-width: 300px;
    margin: 12px auto;
    font-size: 14px;
    font-weight: bold;          /* stand out */
    color: #4B4B7C;             /* theme color */
    text-align: center;
    padding: 6px;
    background: #FFFAE0;       /* light background for contrast */
  }

  #addWordContainer {
    max-width: 400px;
    margin: 8px auto;
    text-align: center;
    display: flex;
    flex-direction: column; /* stack input and controls vertically */
    align-items: center;    /* center everything horizontally */
    gap: 8px;               /* space between input and the row below */
  }

  #addWordControls {
    display: flex;    /* treat as a single block */
    justify-content: center; /* center the row horizontally */
    gap: 8px;                /* space between dropdown and button */
    align-items: center;     /* vertically align dropdown and button */
    width: auto;            /* shrink to fit content */
  }
  
  #newWordCategory {
    width: 180px;               /* fixed width so it doesnâ€™t stretch */
    flex: none;                 /* prevent it from expanding */
  }

  #newWordInput {
    width: 75%;
    padding: 6px;
    font-size: 14px;
  }

  #addWordBtn {
    padding: 6px 12px;
    font-size: 14px;
    margin-left: 8px;
    background: #B6D5D8;
    border: 2px solid #4B4B7C;
    border-radius: 6px;
    color: #333333;
    cursor: pointer;
    flex: none;
  }

  #addWordBtn:hover {
    background: #C4B4E1;
  }

  /* ========== Responsive adjustments ========== */
  @media (max-width: 480px) {
    .cell {
      font-size: 12px;    /* reduce font on small screens */
      padding: 2px;
    }

    #controls {
      gap: 6px;
    }

    #controls label {
      font-size: 12px;
    }

    button {
      font-size: 14px;
      padding: 8px 12px;
    }
  }
  
  /* ========== H3 and Bullet Point Colors ========== */
    /* Bio */
  .bio-header, .bio-list li::marker { color: #4B4B7C; }
  .picture-header, .picture-list li::marker { color: #D69F40; }
  .prompt-header, .prompt-list li::marker { color: #A0526D; }
  .reference-header, .reference-list li::marker { color: #5A9367; }
  .quote-header, .quote-list li::marker { color: #C0623C; }
  .food-header, .food-list li::marker { color: #6B4C9A; }
  .sports-header, .sports-list li::marker { color: #2E8BC0; }
  .cliches-header, .cliches-list li::marker { color: #097B85; }
  .other-header, .other-list li::marker { color: #292929; }
  
  #wordList ul {
    list-style-type: disc;
    padding-left: 20px;
    margin-bottom: 16px;
  }
</style>
</head>
  
<body>
<main class="app">
  <h1>Hinge Bingo - Boys Edition ðŸŽ‰</h1>

    <!-- ðŸ”½ bingo grid + word list are children of .container -->
  <div class="container">
    <div class="left-col">
      <div id="bingoWrapper">
        <div id="bingo" role="grid" aria-label="Bingo board"></div>
      </div>

      <!-- Controls -->
      <div id="controls">
        <button id="randomizeBtn">Randomize</button>
        <button id="clearBtn">Clear</button>
         <!-- ðŸ§¹ CLEAR DATA BUTTON -->
        <button id="clearDataBtn">Clear Data</button>
        
        <label>
          <input type="checkbox" id="manualFillToggle" />
          Manual Fill Mode
        </label>
      </div>

      <div id="addWordContainer">
        <input type="text" id="newWordInput" placeholder="Add a new option..." />

        <div id="addWordControls">
          <select id="newWordCategory">
            <option value="">-- Select category --</option>
            <option value="bio">Bio</option>
            <option value="picture">Picture</option>
            <option value="prompt">Prompt</option>
            <option value="reference">Reference</option>
            <option value="quote">Quote</option>
            <option value="food">Food</option>
            <option value="sports">Sports</option>
            <option value="cliches">Cliches</option>
            <option value="other">Other</option>
          </select>

          <button id="addWordBtn">Add</button>
        </div>
      </div>

      
      <div id="wordCount" aria-live="polite"></div>
    </div>

    <aside id="wordListContainer" aria-label="Word list">
      <h2>Option List</h2>
      <ul id="wordList"></ul>
    </aside>
  </div>
</main>
  
<script>
/* =====================================================
   ðŸ” LOCAL STORAGE CONFIG
===================================================== */
const STORAGE_KEY = "hingeBingoData";


/* =====================================================
   BASE DATA
===================================================== */
const gridSize = 5;
const words = {
  bio: ["Job: Entrepreneur","Job: Bartender","Job: DJ","Job: Developer","Job: Software engineer","Job: PM","Job: Finance / VC","Job: Not listed","IG / Snap in bio","Has kids (bonus if he says â€œIâ€™m a single dadâ€)","Smokes weed","College: Any UC","College Stanford","Conservative","Long-term, open to short","6â€™0"],
  picture: ["With a fish","A dog at a party ('Not my dog')","With his mom","Gym flex","Shirtless in bathroom","Hat-fishing","Blurry","Angel wing photo","Cropped photo","Car","Mullet","Meme","Drunk","Golden Gate Bridge","Group photo","Wedding guest","Sunglasses","Hiking","Patagonia","Coachella","Japan"],
  prompt: ["Love language: Acts of service","Love language: Physical touch","Looking for: Witty banter","Looking for: Something serious","Athletic woman","Caring / Kind","All that I ask is honesty","Worst idea: Joining Hinge","Pineapple on pizza","Competitive","Brunch expert","Cringe voice prompt"],
  reference: ["The Office","Harry Potter","Game of Thrones","Breaking Bad","Marvel","Anime","Rick and Morty","Joe Rogan","Crypto"],
  quote: ["Love traveling","Passenger princess","Just ask","Open book","Bad texter","Letâ€™s get to know each other","Partner in crime","Make me laugh","Not on here much","Add me on IG"],
  food: ["Tacos","Pizza","Beer","Sushi","Whiskey","Brunch","Coffee","Ramen","Boba","KBBQ"],
  sports: ["Tennis","Pickleball","Football","Golf","Rock climbing","Hiking","Biking","Baseball"],
  cliches: ["Coffee personality","Essay prompt","Someone knows him","Empty profile","Just moved","New in town","Fresh breakup","Raving","Photography"],
  other: []
};

/* =====================================================
   DOM REFERENCES
===================================================== */
const bingo = document.getElementById("bingo");
const randomizeBtn = document.getElementById("randomizeBtn");
const clearBtn = document.getElementById("clearBtn");
const clearDataBtn = document.getElementById("clearDataBtn");
const manualFillToggle = document.getElementById("manualFillToggle");
const addWordBtn = document.getElementById("addWordBtn");
const newWordInput = document.getElementById("newWordInput");
const wordListElement = document.getElementById("wordList");
const wordCountDisplay = document.getElementById("wordCount");

let cells = [];
let manualFillMode = false;

/* =====================================================
   ðŸ’¾ SAVE STATE
===================================================== */
function saveState() {
  const boardState = cells.map(cell => ({
    text: cell.textContent,
    classes: [...cell.classList],
    marked: cell.dataset.marked === "true"
  }));

  localStorage.setItem(STORAGE_KEY, JSON.stringify({
    words,
    boardState,
    manualFillMode
  }));
}

/* =====================================================
   â™»ï¸ RESTORE STATE
===================================================== */
function loadState() {
  const raw = localStorage.getItem(STORAGE_KEY);
  if (!raw) return false;

  const data = JSON.parse(raw);

  // restore words
  Object.keys(words).forEach(cat => {
    if (data.words?.[cat]) words[cat] = data.words[cat];
  });

  // restore board
  data.boardState.forEach((cellData, i) => {
    const cell = cells[i];

    cell.textContent = cellData.text;
    cell.className = "cell"; // ðŸ‘ˆ FORCE base class

    cellData.classes.forEach(cls => {
      if (cls !== "cell") cell.classList.add(cls);
    });

    cell.dataset.marked = cellData.marked ? "true" : "false";
  });

  manualFillMode = data.manualFillMode || false;
  manualFillToggle.checked = manualFillMode;

  updateWordList();
  updateWordCount();
  return true;
}

/* =====================================================
   GRID LOGIC
===================================================== */
function createGrid() {
  bingo.innerHTML = "";
  cells = [];

  for (let i = 0; i < gridSize * gridSize; i++) {
    const cell = document.createElement("div");
    cell.className = "cell";
    cell.dataset.marked = "false";

    if (i === 12) {
      cell.textContent = "FREE";
      cell.classList.add("free");
    }

    cell.addEventListener("click", () => onCellClick(cell));
    bingo.appendChild(cell);
    cells.push(cell);
  }
}

function onCellClick(cell) {
  if (manualFillMode) {
    if (cell.classList.contains("free")) return;
    openWordSelector(cell);
    return;
  }

  if (cell.dataset.marked === "true") {
    cell.dataset.marked = "false";
    cell.classList.remove("marked");
  } else {
    cell.dataset.marked = "true";
    cell.classList.add("marked");
  }

  saveState();
}
 
function openWordSelector(cell) {
  const select = document.createElement("select");
  select.style.width = "100%";

  const empty = document.createElement("option");
  empty.value = "";
  empty.textContent = "-- select word --";
  select.appendChild(empty);

  // Flatten all words
  const allWordsArray = Object.values(words).flat();

  allWordsArray.forEach(word => {
    const opt = document.createElement("option");
    opt.value = word;
    opt.textContent = word;
    select.appendChild(opt);
  });

  select.value =
    cell.textContent && cell.textContent !== "FREE"
      ? cell.textContent
      : "";

  cell.innerHTML = "";
  cell.appendChild(select);
  select.focus();

  // Prevent click-through
  select.addEventListener("click", e => e.stopPropagation());

  function commit() {
    const val = select.value.trim();

    cell.className = "cell"; // reset
    cell.classList.remove("marked"); // ðŸ‘ˆ IMPORTANT

    if (val) {
      const category = getCategory(val);
      cell.textContent = val;
      if (category) cell.classList.add(category);
    } else {
      cell.textContent = "";
    }

    cell.dataset.marked = "false";
    saveState();
  }

  select.addEventListener("change", commit);
  select.addEventListener("blur", () => setTimeout(commit, 100));
}

// ðŸŽ¨ CATEGORY LOOKUP (RESTORES COLORS)
function getCategory(word) {
  for (const category in words) {
    if (words[category].includes(word)) return category;
  }
  return null;
}


function randomFill() {
  const flat = Object.values(words).flat();
  const shuffled = flat.sort(() => Math.random() - 0.5);
  let idx = 0;

  cells.forEach((cell, i) => {
    cell.className = "cell";
    cell.classList.remove("marked");
    cell.dataset.marked = "false";

    if (i === 12) {
      cell.textContent = "FREE";
      cell.classList.add("free");
      return;
    }

    const word = shuffled[idx++];
    const category = getCategory(word);

    cell.textContent = word;
    if (category) cell.classList.add(category);
  });

  updateWordList();
  updateWordCount();
  saveState();
}

function clearGrid() {
  cells.forEach((cell, i) => {
    if (i === 12) return; // keep FREE cell
    
    cell.textContent = "";
    cell.className = "cell";  // remove all category classes
    cell.dataset.marked = "false";
  });
  updateWordCount(); // optional
  saveState();
}

/* =====================================================
   WORD LIST
===================================================== */
function updateWordList() {
  wordListElement.innerHTML = "";

  Object.entries(words).forEach(([cat, list]) => {
    // Header
    const h = document.createElement("h3");
    h.textContent = cat.toUpperCase();
    h.classList.add(`${cat}-header`); // ðŸŽ¨ APPLY HEADER COLOR
    wordListElement.appendChild(h);

    // List
    const ul = document.createElement("ul");
    ul.classList.add(`${cat}-list`); // ðŸŽ¨ APPLY BULLET COLOR

    list.forEach(w => {
      const li = document.createElement("li");
      li.textContent = w;
      ul.appendChild(li);
    });

    wordListElement.appendChild(ul);
  });
}
  
function updateWordCount() {
  const total = Object.values(words).reduce((sum, arr) => sum + arr.length, 0);
  wordCountDisplay.textContent = `Option list contains ${total} phrases.`;
}


/* =====================================================
   EVENTS
===================================================== */
randomizeBtn.onclick = randomFill;
clearBtn.onclick = clearGrid;

manualFillToggle.onchange = e => {
  manualFillMode = e.target.checked;
  saveState();
};

addWordBtn.onclick = () => {
  const val = newWordInput.value.trim();
  const cat = document.getElementById("newWordCategory").value;
  if (!val || !cat) return alert("Missing input");
  words[cat].push(val);
  newWordInput.value = "";
  updateWordList();
  updateWordCount();
  saveState();
};

/* =====================================================
   ðŸ§¹ CLEAR DATA (FULL RESET)
===================================================== */
// Make a copy of original words for reset
const originalWords = JSON.parse(JSON.stringify(words));

clearDataBtn.onclick = () => {
  if (!confirm("Erase all saved data?")) return;

  // Reset words back to original
  Object.keys(words).forEach(cat => {
    words[cat] = [...originalWords[cat]];
  });

  // Clear localStorage
  localStorage.removeItem(STORAGE_KEY);

  // Clear bingo grid
  cells.forEach((cell, i) => {
    cell.textContent = i === 12 ? "FREE" : ""; // keep FREE in center
    cell.className = "cell";
    cell.dataset.marked = "false";
  });

  // Update word list and word count
  updateWordList();
  updateWordCount();
};

/* =====================================================
   INIT
===================================================== */
createGrid();
if (!loadState()) randomFill();
</script>
</body>
</html>
